# ЁЯЪА PRISMA + POSTGRESQL QUICKSTART

### ЁЯУМ Prisma ORM ржХрзА?

Prisma рж╣рж▓рзЛ ржПржХржЯрж┐ ржЖржзрзБржирж┐ржХ **Object Relational Mapping (ORM)** ржЯрзБрж▓ ржпрж╛ JavaScript ржПржмржВ TypeScript ржбрзЗржнрзЗрж▓ржкрж╛рж░ржжрзЗрж░ ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗрж░ (PostgreSQL, MySQL, SQLite) рж╕рж╛ржерзЗ ржХрж╛ржЬ ржХрж░рж╛ рж╕рж╣ржЬ ржХрж░рзЗ ржжрзЗрзЯред ржПржЯрж┐ ржЬржЯрж┐рж▓ SQL ржХрзЛржб ржирж╛ рж▓рж┐ржЦрзЗ рж╕рж░рж╛рж╕рж░рж┐ ржХрзЛржбрзЗрж░ ржЕржмржЬрзЗржХрзНржЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржбрзЗржЯрж╛ржмрзЗрж╕ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред

---

### ЁЯЫая╕П ржзрж╛ржк рзз: ржирждрзБржи ржкрзНрж░рзЛржЬрзЗржХрзНржЯ рждрзИрж░рж┐ ржУ TypeScript рж╕рзЗржЯржЖржк

ржкрзНрж░ржержорзЗ ржПржХржЯрж┐ ржбрж┐рж░рзЗржХрзНржЯрж░рж┐ рждрзИрж░рж┐ ржХрж░рзБржи ржПржмржВ TypeScript ржХржиржлрж┐ржЧрж╛рж░ ржХрж░рзБржи:

```bash
mkdir hello-prisma && cd hello-prisma
npm init -y
npm install typescript tsx @types/node --save-dev
npx tsc --init

```

---

### ЁЯУж ржзрж╛ржк рзи: Prisma ржУ PostgreSQL ржбрж┐ржкрзЗржирзНржбрзЗржирзНрж╕рж┐ ржЗржирж╕рзНржЯрж▓

ржкрзНрж░рзЯрзЛржЬржирзАрзЯ ржкрзНржпрж╛ржХрзЗржЬржЧрзБрж▓рзЛ ржЗржирж╕рзНржЯрж▓ ржХрж░рзБржи:

```bash
# Prisma CLI ржУ ржбрзНрж░рж╛ржЗржнрж╛рж░ ржбрзЗржнрзЗрж▓ржкржорзЗржирзНржЯ ржбрж┐ржкрзЗржирзНржбрзЗржирзНрж╕рж┐ рж╣рж┐рж╕рзЗржмрзЗ
npm install prisma @types/node @types/pg --save-dev

# рж░рж╛ржиржЯрж╛ржЗржо ржбрж┐ржкрзЗржирзНржбрзЗржирзНрж╕рж┐
npm install @prisma/client @prisma/adapter-pg pg dotenv

```

> **ржкрзНржпрж╛ржХрзЗржЬ ржкрж░рж┐ржЪрж┐рждрж┐:** > \* `prisma`: рж╕рзНржХрж┐ржорж╛ ржорж╛ржЗржЧрзНрж░рзЗрж╢ржи ржУ ржЬрзЗржирж╛рж░рзЗржЯ ржХрж░рж╛рж░ ржЬржирзНржп CLIред
>
> - `@prisma/client`: ржХрзЛржб ржерзЗржХрзЗ ржХрзБрзЯрзЗрж░рж┐ ржЪрж╛рж▓рж╛ржирзЛрж░ ржорзВрж▓ ржЯрзБрж▓ред
> - `pg`: PostgreSQL ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗрж░ рж╕рж╛ржерзЗ ржХрж╛ржирзЗржХрзНржЯ рж╣ржУрзЯрж╛рж░ ржирзЗржЯрж┐ржн ржбрзНрж░рж╛ржЗржнрж╛рж░ред

---

### тЪЩя╕П ржзрж╛ржк рзй: ESM рж╕рж╛ржкрзЛрж░рзНржЯ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи

ржЖржзрзБржирж┐ржХ ржоржбрж┐ржЙрж▓ рж╕рж┐рж╕рзНржЯрзЗржо ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржЬржирзНржп ржирж┐ржЪрзЗрж░ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржиржЧрзБрж▓рзЛ ржЖржкржбрзЗржЯ ржХрж░рзБржи:

**ЁЯУД tsconfig.json:**

```json
{
  "compilerOptions": {
    "module": "ESNext",
    "moduleResolution": "node",
    "target": "ES2023",
    "strict": true,
    "esModuleInterop": true
  }
}
```

**ЁЯУД package.json:**

```json
{
  "type": "module"
}
```

---

### тЪб ржзрж╛ржк рзк: Prisma ржЗржирж┐рж╢рж┐рзЯрж╛рж▓рж╛ржЗржЬ ржУ ржбрж╛ржЯрж╛ржмрзЗрж╕ ржХрж╛ржирзЗржХрж╢ржи

Prisma рж╕рзЗржЯржЖржк рж╢рзБрж░рзБ ржХрж░рждрзЗ ржирж┐ржЪрзЗрж░ ржХржорж╛ржирзНржбржЯрж┐ ржжрж┐ржи:

```bash
npx prisma init --datasource-provider postgresql

```

**ЁЯУД .env ржлрж╛ржЗрж▓ ржЖржкржбрзЗржЯ ржХрж░рзБржи:**
ржЖржкржирж╛рж░ PostgreSQL ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗрж░ рждржерзНржп ржЕржирзБржпрж╛рзЯрзА ржХрж╛ржирзЗржХрж╢ржи рж╕рзНржЯрзНрж░рж┐ржВржЯрж┐ рж▓рж┐ржЦрзБржи:

```env
DATABASE_URL="postgresql://username:password@localhost:5432/mydb?schema=public"

```

---

### ЁЯУЭ ржзрж╛ржк рзл: Prisma Data Model (Schema) рждрзИрж░рж┐

`prisma/schema.prisma` ржлрж╛ржЗрж▓рзЗ ржЖржкржирж╛рж░ ржбрж╛ржЯрж╛ ржЯрзЗржмрж┐рж▓ ржмрж╛ ржоржбрзЗрж▓ ржбрж┐ржлрж╛ржЗржи ржХрж░рзБржи:

```prisma
model User {
  id    Int     @id @default(autoincrement())
  email String  @unique
  name  String?
  posts Post[]
}

model Post {
  id        Int     @id @default(autoincrement())
  title     String
  content   String?
  published Boolean @default(false)
  author    User    @relation(fields: [authorId], references: [id])
  authorId  Int
}

```

---

### ЁЯЪА ржзрж╛ржк рзм: ржорж╛ржЗржЧрзНрж░рзЗрж╢ржи ржЪрж╛рж▓рж╛ржирзЛ ржУ ржЯрзЗржмрж┐рж▓ рждрзИрж░рж┐

рж╕рзНржХрж┐ржорж╛ ржЕржирзБржпрж╛рзЯрзА ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗ ржЯрзЗржмрж┐рж▓ рждрзИрж░рж┐ ржХрж░рждрзЗ ржПржмржВ Prisma Client ржЖржкржбрзЗржЯ ржХрж░рждрзЗ ржирж┐ржЪрзЗрж░ ржХржорж╛ржирзНржбржЯрж┐ ржжрж┐ржи:

```bash
npx prisma migrate dev --name init

```

---

### тЬЕ ржЪрзВрзЬрж╛ржирзНржд рж╕рж╛рж░рж╛ржВрж╢

ржПржЗ ржкрзНрж░рж╕рзЗрж╕ржЯрж┐ ржЕржирзБрж╕рж░ржг ржХрж░рж▓рзЗ ржЖржкржирж╛рж░ ржкрзНрж░рзЛржЬрзЗржХрзНржЯрзЗ Prisma ржкрзБрж░рзЛржкрзБрж░рж┐ ржкрзНрж░рж╕рзНрждрзБржд рж╣рзЯрзЗ ржпрж╛ржмрзЗред ржПржЦржи ржЖржкржирж┐ ржЖржкржирж╛рж░ `index.ts` ржлрж╛ржЗрж▓рзЗ ржирж┐ржЪрзЗрж░ ржорждрзЛ ржХрж░рзЗ ржбрж╛ржЯрж╛ржмрзЗрж╕ ржЕржкрж╛рж░рзЗрж╢ржи рж╢рзБрж░рзБ ржХрж░рждрзЗ ржкрж╛рж░рзЗржи:

```ts
import { PrismaClient } from "@prisma/client";
const prisma = new PrismaClient();

// ржЙржжрж╛рж╣рж░ржг: ржирждрзБржи ржЗржЙржЬрж╛рж░ рждрзИрж░рж┐
async function main() {
  const user = await prisma.user.create({
    data: {
      name: "Rahat",
      email: "rahat@example.com",
    },
  });
  console.log(user);
}
```

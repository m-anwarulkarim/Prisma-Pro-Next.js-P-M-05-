# ЁЯЫбя╕П Prisma Data Modeling

ржПржЗ ржЧрж╛ржЗржбрзЗ ржПржХржЯрж┐ **User** ржПржмржВ **Post** ржоржбрзЗрж▓рзЗрж░ ржорж╛ржзрзНржпржорзЗ ржкрзНрж░рж┐ржЬржорж╛рж░ рж╕ржм ржзрж░ржирзЗрж░ ржбрж╛ржЯрж╛ ржЯрж╛ржЗржк, ржХржирж╕рзНржЯрзНрж░рзЗржЗржирзНржЯ (Constraint) ржПржмржВ рж░рж┐рж▓рзЗрж╢ржи ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржЖрж▓рзЛржЪржирж╛ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗред

---

## ЁЯПЧя╕П рзз. Prisma Model (Main Module)

ржирж┐ржЪрзЗрж░ ржоржбрзЗрж▓рзЗ ржкрзНрж░рж╛рзЯ рж╕ржм ржзрж░ржирзЗрж░ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржлрж┐рж▓рзНржб ржПржмржВ ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ:

```prisma
model User {
  // Primary Key: рж╕рзНржмрзЯржВржХрзНрж░рж┐рзЯржнрж╛ржмрзЗ ржмрзГржжрзНржзрж┐ ржкрж╛ржмрзЗ
  id        Int       @id @default(autoincrement())

  // Basic Text
  name      String

  // Unique: ржПржХржЗ ржЗржорзЗржЗрж▓ ржжрзНржмрж┐рждрзАрзЯржмрж╛рж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛ржмрзЗ ржирж╛
  email     String    @unique

  // String + DB Specific size (PostgreSQL/MySQL ржПрж░ ржЬржирзНржп)
  password  String    @db.VarChar(200)

  // Enum + Default Value
  role      Role      @default(Customer)

  // Boolean with default
  isActive  Boolean   @default(true)

  // Decimal: ржЯрж╛ржХрж╛-ржкрзЯрж╕рж╛рж░ рж╣рж┐рж╕рж╛ржмрзЗрж░ ржЬржирзНржп рж╕ржарж┐ржХ ржкрзНрж░рж┐рж╕рж┐рж╢ржи (рззрзжржЯрж┐ рж╕ржВржЦрзНржпрж╛, ржжрж╢ржорж┐ржХрзЗрж░ ржкрж░ рзиржЯрж┐)
  balance   Decimal   @db.Decimal(10, 2) @default(0.00)

  // Optional Field (?): ржорж╛ржи ржерж╛ржХрждрзЗржУ ржкрж╛рж░рзЗ, ржирж╛ржУ ржкрж╛рж░рзЗ
  rating    Float?    @default(0)

  // JSON: ржЕржмржЬрзЗржХрзНржЯ ржмрж╛ ржЕрзНржпрж╛рж░рзЗ ржбрж╛ржЯрж╛ рж╕рзЗржн ржХрж░рж╛рж░ ржЬржирзНржп
  metadata  Json?

  // DateTime: рждрзИрж░рж┐ ржПржмржВ ржЖржкржбрзЗржЯрзЗрж░ рж╕ржорзЯ ржЯрзНрж░рзНржпрж╛ржХ ржХрж░рж╛
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  // Relation: ржПржХржЬржи ржЗржЙржЬрж╛рж░рзЗрж░ ржЕржирзЗржХржЧрзБрж▓рзЛ ржкрзЛрж╕рзНржЯ ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗ (One-to-Many)
  posts     Post[]

  // Composite Unique: ржЗржорзЗржЗрж▓ ржПржмржВ ржирж╛ржо ржПрж░ ржХржорзНржмрж┐ржирзЗрж╢ржи ржЗржЙржирж┐ржХ рж╣рждрзЗ рж╣ржмрзЗ
  @@unique([email, name])

  // Database Table Name: ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗ ржЯрзЗржмрж┐рж▓рзЗрж░ ржирж╛ржо рж╣ржмрзЗ 'users_table'
  @@map("users_table")
}

model Post {
  id        Int      @id @default(autoincrement())
  title     String
  content   String?
  published Boolean  @default(false)

  // Foreign Key
  userId    Int

  // Relation definition
  user      User     @relation(fields: [userId], references: [id])

  createdAt DateTime @default(now())

  @@map("posts_table")
}

enum Role {
  Admin
  Customer
}

```

---

## ЁЯУС рзи. Prisma Data Types (ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржмрзНржпрж╛ржЦрзНржпрж╛)

Prisma-рждрзЗ ржбрж╛ржЯрж╛ рж╕ржВрж░ржХрзНрж╖ржгрзЗрж░ ржЬржирзНржп ржмрж┐ржнрж┐ржирзНржи ржЯрж╛ржЗржк рж░рзЯрзЗржЫрзЗ:

| ржЯрж╛ржЗржк         | ржХрж╛ржЬ                                                  | ржЙржжрж╛рж╣рж░ржг               |
| ------------ | ---------------------------------------------------- | -------------------- |
| **Int**      | ржкрзВрж░рзНржгрж╕ржВржЦрзНржпрж╛ рж░рж╛ржЦрж╛рж░ ржЬржирзНржпред рж╕рж╛ржзрж╛рж░ржгржд ID рждрзЗ ржмрзНржпржмрж╣рзГржд рж╣рзЯред    | `id Int @id`         |
| **String**   | ржпрзЗ ржХрзЛржирзЛ ржзрж░ржирзЗрж░ ржЯрзЗржХрзНрж╕ржЯ рж░рж╛ржЦрж╛рж░ ржЬржирзНржпред                     | `name String`        |
| **Boolean**  | рж╢рзБржзрзБржорж╛рждрзНрж░ `true` ржЕржержмрж╛ `false` рж░рж╛ржЦрж╛рж░ ржЬржирзНржпред            | `isActive Boolean`   |
| **DateTime** | рждрж╛рж░рж┐ржЦ ржПржмржВ рж╕ржорзЯ рж╕ржВрж░ржХрзНрж╖ржгрзЗрж░ ржЬржирзНржпред                        | `createdAt DateTime` |
| **Float**    | рж╕рж╛ржзрж╛рж░ржг ржжрж╢ржорж┐ржХ рж╕ржВржЦрзНржпрж╛ред                                 | `rating Float`       |
| **Decimal**  | ржЕрждрж┐ рж╕рзВржХрзНрж╖рзНржо ржжрж╢ржорж┐ржХ (ржЯрж╛ржХрж╛-ржкрзЯрж╕рж╛ ржмрж╛ ржмрзИржЬрзНржЮрж╛ржирж┐ржХ рж╣рж┐рж╕рж╛ржм)ред    | `balance Decimal`    |
| **Json**     | ржХржоржкрзНрж▓рзЗржХрзНрж╕ ржбрж╛ржЯрж╛ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░ (Object/Array) рж░рж╛ржЦрж╛рж░ ржЬржирзНржпред | `metadata Json`      |
| **Enum**     | ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХрж┐ржЫрзБ ржлрж┐ржХрзНрж╕ржб ржЕржкрж╢ржирзЗрж░ рждрж╛рж▓рж┐ржХрж╛ред                 | `role Role`          |

---

## ЁЯЫая╕П рзй. Prisma Constraints & Attributes

ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗрж░ ржирж┐рзЯржо ржмрж╛ рж▓ржЬрж┐ржХ рж╕рзЗржЯ ржХрж░рж╛рж░ ржЬржирзНржп ржПржЗ ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯржЧрзБрж▓рзЛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯ:

### ржлрж┐рж▓рзНржб рж▓рзЗржнрзЗрж▓ ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯ (Field Level)

- **`@id`**: ржлрж┐рж▓рзНржбржЯрж┐ржХрзЗ Primary Key рж╣рж┐рж╕рзЗржмрзЗ рж╕рзЗржЯ ржХрж░рзЗред
- **`@default()`**: ржХрзЛржирзЛ ржорж╛ржи ржирж╛ ржжрж┐рж▓рзЗ рж╕рзНржмрзЯржВржХрзНрж░рж┐рзЯржнрж╛ржмрзЗ ржХрзА ржмрж╕ржмрзЗ рждрж╛ ржарж┐ржХ ржХрж░рзЗ (ржпрзЗржоржи: `now()`, `autoincrement()`)ред
- **`@unique`**: ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗ ржпрзЗ ржР ржХрж▓рж╛ржорзЗ ржбрзБржкрзНрж▓рж┐ржХрзЗржЯ ржбрж╛ржЯрж╛ ржврзБржХржмрзЗ ржирж╛ред
- **`@updatedAt`**: ржбрж╛ржЯрж╛ ржЖржкржбрзЗржЯ рж╣ржУрзЯрж╛рж░ рж╕рж╛ржерзЗ рж╕рж╛ржерзЗ ржЕржЯрзЛржорзЗржЯрж┐ржХ рж╕ржорзЯ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзЗ ржжрзЗрзЯред
- **`@map("name")`**: ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗрж░ ржХрж▓рж╛ржорзЗрж░ ржирж╛ржо ржХрзЛржбрзЗрж░ ржирж╛ржо ржерзЗржХрзЗ ржЖрж▓рж╛ржжрж╛ ржХрж░рждрзЗ ржЪрж╛ржЗрж▓рзЗред

### ржмрзНрж▓ржХ рж▓рзЗржнрзЗрж▓ ржЕрзНржпрж╛ржЯрзНрж░рж┐ржмрж┐ржЙржЯ (Block Level)

- **`@@id([])`**: ржПржХрж╛ржзрж┐ржХ ржлрж┐рж▓рзНржб ржорж┐рж▓рзЗ ржПржХржЯрж┐ Primary Key (Composite Key) рждрзИрж░рж┐ ржХрж░рзЗред
- **`@@unique([])`**: ржПржХрж╛ржзрж┐ржХ ржлрж┐рж▓рзНржбрзЗрж░ ржХржорзНржмрж┐ржирзЗрж╢ржиржХрзЗ ржЗржЙржирж┐ржХ ржХрж░рзЗред
- **`@@map("name")`**: ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗ ржЯрзЗржмрж┐рж▓рзЗрж░ ржирж╛ржо ржХрж╛рж╕рзНржЯржорж╛ржЗржЬ ржХрж░рждрзЗ ржмрзНржпржмрж╣рзГржд рж╣рзЯред

---

## ЁЯОп рзк. ржЪрзВрзЬрж╛ржирзНржд рж╕рж╛рж░рж╛ржВрж╢

ржПржХржЯрж┐ ржЖржжрж░рзНрж╢ ржкрзНрж░рж┐ржЬржорж╛ ржоржбрзЗрж▓ рждрзИрж░рж┐ ржХрж░рждрзЗ ржирж┐ржЪрзЗрж░ ржзрж╛ржкржЧрзБрж▓рзЛ ржоржирзЗ рж░рж╛ржЦрзБржи:

1. **ржЯрж╛ржЗржк ржирж┐рж░рзНржмрж╛ржЪржи:** ржЖржкржирж╛рж░ ржбрж╛ржЯрж╛ ржЕржирзБржпрж╛рзЯрзА рж╕ржарж┐ржХ ржЯрж╛ржЗржк (String, Int, Boolean ржЗрждрзНржпрж╛ржжрж┐) ржмрзЗржЫрзЗ ржирж┐ржиред
2. **ржкрзНрж░рж╛ржЗржорж╛рж░рж┐ ржХрж┐:** ржкрзНрж░рждрж┐ржЯрж┐ ржоржбрзЗрж▓рзЗ ржЕржмрж╢рзНржпржЗ ржПржХржЯрж┐ `@id` ржерж╛ржХрждрзЗ рж╣ржмрзЗред
3. **рж░рж┐рж▓рзЗрж╢ржи:** ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗрж░ ржЯрзЗржмрж┐рж▓ржЧрзБрж▓рзЛрж░ ржоржзрзНржпрзЗ рж╕ржорзНржкрж░рзНржХ рж╕рзНржерж╛ржкржирзЗрж░ ржЬржирзНржп `@relation` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржиред
4. **ржирж┐рж░рж╛ржкрждрзНрждрж╛:** ржкрж╛рж╕ржУрзЯрж╛рж░рзНржб ржмрж╛ рж╕рзЗржирж╕рж┐ржЯрж┐ржн ржбрж╛ржЯрж╛рж░ ржЬржирзНржп `@db.VarChar` ржмрж╛ рж╕ржарж┐ржХ рж▓рзЗржВрже ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржиред

## üöÄ Prisma-‡¶§‡ßá AND Conditions ‡¶á‡¶Æ‡¶™‡ßç‡¶≤‡¶ø‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ

**AND Condition** ‡¶Æ‡¶æ‡¶®‡ßá ‡¶π‡¶≤‡ßã ‚Äî ‡¶Ø‡¶ñ‡¶® ‡¶Ü‡¶™‡¶®‡¶ø ‡¶ö‡¶æ‡¶® ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¶‡ßá‡¶ì‡ßü‡¶æ **‡¶∏‡¶¨‡¶ó‡ßÅ‡¶≤‡ßã ‡¶∂‡¶∞‡ßç‡¶§‡¶á** ‡¶∏‡¶§‡ßç‡¶Ø ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá, ‡¶§‡¶¨‡ßá‡¶á ‡¶°‡¶æ‡¶ü‡¶æ ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá‡•§ ‡¶∏‡¶π‡¶ú ‡¶ï‡¶•‡¶æ‡ßü, "‡¶ü‡¶æ‡¶á‡¶ü‡ßá‡¶≤-‡¶è 'Node' ‡¶•‡¶æ‡¶ï‡¶§‡ßá ‡¶π‡¶¨‡ßá **‡¶è‡¶¨‡¶Ç** ‡¶™‡ßã‡¶∏‡ßç‡¶ü‡¶ü‡¶ø 'Published' ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá"‡•§

### üõ†Ô∏è ‡¶ï‡ßã‡¶° ‡¶á‡¶Æ‡¶™‡ßç‡¶≤‡¶ø‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∂‡¶® (‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£‡¶∏‡¶π)

‡¶ß‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶ï, ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶è‡¶Æ‡¶® ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶õ‡¶ø ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ï‡ßÄ‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶¶‡¶ø‡ßü‡ßá ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶ï‡¶∞‡¶¨‡ßá ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶æ‡¶•‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü ‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶ó‡¶∞‡¶ø‡¶ì ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡•§

```ts
import { PrismaClient } from "@prisma/client";
import { Request, Response } from "express";

const prisma = new PrismaClient();

export const searchWithAndCondition = async (req: Request, res: Response) => {
  try {
    // ‡ßß. ‡¶ï‡ßÅ‡ßü‡ßá‡¶∞‡¶ø ‡¶™‡ßç‡¶Ø‡¶æ‡¶∞‡¶æ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞ ‡¶•‡ßá‡¶ï‡ßá ‡¶°‡¶æ‡¶ü‡¶æ ‡¶®‡ßá‡¶ì‡ßü‡¶æ
    const searchText = (req.query.search as string) || "";
    const categoryName = (req.query.category as string) || "";

    // ‡ß®. Prisma findMany ‡¶è‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá AND ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ
    const posts = await prisma.post.findMany({
      where: {
        AND: [
          // ‡¶∂‡¶∞‡ßç‡¶§ ‡ßß: ‡¶ü‡¶æ‡¶á‡¶ü‡ßá‡¶≤‡ßá‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶•‡¶æ‡¶ï‡¶§‡ßá ‡¶π‡¶¨‡ßá
          {
            title: {
              contains: searchText,
              mode: "insensitive",
            },
          },
          // ‡¶∂‡¶∞‡ßç‡¶§ ‡ß®: ‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶ó‡¶∞‡¶ø‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶Æ‡¶ø‡¶≤‡¶§‡ßá ‡¶π‡¶¨‡ßá (‡¶Ø‡¶¶‡¶ø ‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶ó‡¶∞‡¶ø ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡ßü)
          categoryName ? { category: { name: categoryName } } : {},

          // ‡¶∂‡¶∞‡ßç‡¶§ ‡ß©: ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶™‡¶æ‡¶¨‡¶≤‡¶ø‡¶∂‡¶° ‡¶™‡ßã‡¶∏‡ßç‡¶ü‡¶ó‡ßÅ‡¶≤‡ßã ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá
          {
            isPublished: true,
          },
        ],
      },
      orderBy: { createdAt: "desc" },
    });

    return res.status(200).json({
      success: true,
      total: posts.length,
      data: posts,
    });
  } catch (error) {
    return res
      .status(500)
      .json({ success: false, message: "Error occurred", error });
  }
};
```

---

### üß† ‡¶Æ‡ßÇ‡¶≤ ‡¶ï‡¶®‡¶∏‡ßá‡¶™‡ßç‡¶ü‡¶∏‡¶Æ‡ßÇ‡¶π (Key Concepts)

#### ‡ßß. `AND` ‡¶Ö‡¶™‡¶æ‡¶∞‡ßá‡¶ü‡¶∞ ‡¶ï‡ßÄ?

`AND` ‡¶Ö‡¶™‡¶æ‡¶∞‡ßá‡¶ü‡¶∞ ‡¶è‡¶ï‡¶ü‡¶ø Array ‡¶ó‡ßç‡¶∞‡¶π‡¶£ ‡¶ï‡¶∞‡ßá‡•§ ‡¶è‡¶á ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∞‡ßá‡¶∞ ‡¶≠‡ßá‡¶§‡¶∞‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶Ø‡¶§‡¶ó‡ßÅ‡¶≤‡ßã ‡¶Ö‡¶¨‡¶ú‡ßá‡¶ï‡ßç‡¶ü ‡¶¨‡¶æ ‡¶∂‡¶∞‡ßç‡¶§ ‡¶¶‡¶ø‡¶¨‡ßá‡¶®, Prisma ‡¶°‡¶æ‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶•‡ßá‡¶ï‡ßá ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶∏‡ßá‡¶á ‡¶°‡¶æ‡¶ü‡¶æ‡¶ó‡ßÅ‡¶≤‡ßã‡¶á ‡¶®‡¶ø‡ßü‡ßá ‡¶Ü‡¶∏‡¶¨‡ßá ‡¶Ø‡ßá‡¶ó‡ßÅ‡¶≤‡ßã‡¶§‡ßá **‡¶∏‡¶¨‡¶ó‡ßÅ‡¶≤‡ßã ‡¶∂‡¶∞‡ßç‡¶§** ‡¶Æ‡¶ø‡¶≤‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá‡•§

#### ‡ß®. ‡¶ï‡ßá‡¶® `AND` ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶¨‡ßá‡¶®?

- **Narrowing Down Results:** ‡¶Ö‡¶®‡ßá‡¶ï ‡¶°‡¶æ‡¶ü‡¶æ ‡¶•‡ßá‡¶ï‡ßá ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü ‡¶°‡¶æ‡¶ü‡¶æ ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßá ‡¶™‡ßá‡¶§‡ßá‡•§
- **Combining Filters:** ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü + ‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶ó‡¶∞‡¶ø + ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ (‡¶Ø‡ßá‡¶Æ‡¶®: active/inactive) ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶§‡ßá‡•§

#### ‡ß©. `OR` ‡¶¨‡¶®‡¶æ‡¶Æ `AND`-‡¶è‡¶∞ ‡¶™‡¶æ‡¶∞‡ßç‡¶•‡¶ï‡ßç‡¶Ø

| ‡¶Ö‡¶™‡¶æ‡¶∞‡ßá‡¶ü‡¶∞ | ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ß‡¶∞‡¶£                 | ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£                                                           |
| ------- | ---------------------------- | ---------------------------------------------------------------- |
| **OR**  | ‡¶Ø‡ßá‡¶ï‡ßã‡¶®‡ßã ‡¶è‡¶ï‡¶ü‡¶ø ‡¶Æ‡¶ø‡¶≤‡¶≤‡ßá ‡¶°‡¶æ‡¶ü‡¶æ ‡¶Ü‡¶∏‡¶¨‡ßá‡•§ | ‡¶ü‡¶æ‡¶á‡¶ü‡ßá‡¶≤ **‡¶Ö‡¶•‡¶¨‡¶æ** ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü‡ßá "React" ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶¶‡ßá‡¶ñ‡¶æ‡¶ì‡•§                   |
| **AND** | ‡¶∏‡¶¨‡¶ó‡ßÅ‡¶≤‡ßã ‡¶Æ‡¶ø‡¶≤‡¶§‡ßá‡¶á ‡¶π‡¶¨‡ßá‡•§           | ‡¶ü‡¶æ‡¶á‡¶ü‡ßá‡¶≤-‡¶è "React" ‡¶•‡¶æ‡¶ï‡¶§‡ßá ‡¶π‡¶¨‡ßá **‡¶è‡¶¨‡¶Ç** ‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶ó‡¶∞‡¶ø "Frontend" ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§ |

---

### üìä ‡¶¨‡¶æ‡¶∏‡ßç‡¶§‡¶¨ ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£ (Use Case Scenario)

‡¶°‡¶æ‡¶ü‡¶æ‡¶¨‡ßá‡¶∏‡ßá ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡ß©‡¶ü‡¶ø ‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶Ü‡¶õ‡ßá:

1. **Post 1:** Title: "Next.js Pro", Category: "Next.js", isPublished: **true**
2. **Post 2:** Title: "Next.js Basics", Category: "Next.js", isPublished: **false**
3. **Post 3:** Title: "React Tips", Category: "React", isPublished: **true**

| URL Query                     | ‡¶∞‡ßá‡¶ú‡¶æ‡¶≤‡ßç‡¶ü ‡¶ï‡ßÄ ‡¶Ü‡¶∏‡¶¨‡ßá?  | ‡¶ï‡ßá‡¶® ‡¶Ü‡¶∏‡¶¨‡ßá?                                                                |
| ----------------------------- | ----------------- | ------------------------------------------------------------------------ |
| `?search=Next`                | **Post 1**        | ‡¶ü‡¶æ‡¶á‡¶ü‡ßá‡¶≤‡ßá "Next" ‡¶Ü‡¶õ‡ßá ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ Post 2 ‡¶¨‡¶æ‡¶¶ ‡¶Ø‡¶æ‡¶¨‡ßá ‡¶ï‡¶æ‡¶∞‡¶£ ‡¶∏‡ßá‡¶ü‡¶ø `isPublished: false` |
| `?search=Next&category=React` | **‡¶ï‡¶ø‡¶õ‡ßÅ‡¶á ‡¶Ü‡¶∏‡¶¨‡ßá ‡¶®‡¶æ** | ‡¶ü‡¶æ‡¶á‡¶ü‡ßá‡¶≤‡ßá "Next" ‡¶•‡¶æ‡¶ï‡¶≤‡ßá‡¶ì ‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶ó‡¶∞‡¶ø "React" ‡¶è‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶Æ‡¶ø‡¶≤‡¶õ‡ßá ‡¶®‡¶æ‡•§                |
| `?category=Next.js`           | **Post 1**        | ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶ó‡¶∞‡¶ø ‡¶Æ‡¶ø‡¶≤‡¶õ‡ßá ‡¶è‡¶¨‡¶Ç ‡¶™‡¶æ‡¶¨‡¶≤‡¶ø‡¶∂‡¶°‡•§                                        |

---

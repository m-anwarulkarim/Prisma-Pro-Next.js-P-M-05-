## ЁЯЪА AND ржПрж░ ржнрзЗрждрж░ OR ржХржирзНржбрж┐рж╢ржи (Nested Conditions)

**ржЙржжрж╛рж╣рж░ржг:** ржзрж░рзБржи ржЖржкржирж┐ ржПржоржи ржПржХржЯрж┐ рж╕рж╛рж░рзНржЪ ржХрж░рждрзЗ ржЪрж╛ржи ржпрзЗржЦрж╛ржирзЗ:
рзз. ржкрзЛрж╕рзНржЯржЯрж┐ ржЕржмрж╢рзНржпржЗ **Published** рж╣рждрзЗ рж╣ржмрзЗред (AND)
рзи. ржХрж┐ржирзНрждрзБ ржкрзЛрж╕рзНржЯрзЗрж░ **Title** ржЕржержмрж╛ **Content**тАФржпрзЗржХрзЛржирзЛ ржПржХржЯрж┐рждрзЗ рж╕рж╛рж░рзНржЪ ржХрзАржУрзЯрж╛рж░рзНржбржЯрж┐ ржерж╛ржХрж▓рзЗржЗ рж╣ржмрзЗред (OR)

### ЁЯЫая╕П ржХрзЛржб ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯрзЗрж╢ржи

```ts
const posts = await prisma.post.findMany({
  where: {
    AND: [
      // ржкрзНрж░ржержо рж╢рж░рзНржд (ржЕржмрж╢рзНржпржЗ рж╕рждрзНржп рж╣рждрзЗ рж╣ржмрзЗ)
      { isPublished: true },

      // ржжрзНржмрж┐рждрзАрзЯ рж╢рж░рзНржд (ржПржЗ OR ржПрж░ ржнрзЗрждрж░ ржпрзЗржХрзЛржирзЛ ржПржХржЯрж┐ ржорж┐рж▓рж▓рзЗржЗ рж╣ржмрзЗ)
      {
        OR: [
          { title: { contains: searchText, mode: "insensitive" } },
          { content: { contains: searchText, mode: "insensitive" } },
        ],
      },
    ],
  },
});
```

---

### ЁЯза ржПржЯрж┐ ржХрзЗржи ржПржмржВ ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ?

ржПржЗ ржХрзБрзЯрзЗрж░рж┐ржЯрж┐ ржпржЦржи ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗ ржпрж╛рзЯ, рждржЦржи рж╕рзЗржЯрж┐ ржирж┐ржЪрзЗрж░ рж▓ржЬрж┐ржХрзЗ ржХрж╛ржЬ ржХрж░рзЗ:
`WHERE isPublished = true AND (title LIKE '%search%' OR content LIKE '%search%')`

ржПржЦрж╛ржирзЗ рж▓ржЬрж┐ржХржЯрж┐ ржЦрзЗрзЯрж╛рж▓ ржХрж░рзБржи:

- **Outer Level (AND):** ржПржЯрж┐ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░ржЫрзЗ ржпрзЗ ржкрзЛрж╕рзНржЯржЯрж┐ ржкрж╛ржмрж▓рж┐рж╢ржб ржХрж┐ ржирж╛ред ржпржжрж┐ ржкрж╛ржмрж▓рж┐рж╢ржб ржирж╛ рж╣рзЯ, рждржмрзЗ ржЯрж╛ржЗржЯрзЗрж▓ ржмрж╛ ржХржирзНржЯрзЗржирзНржЯрзЗ ржорж┐рж▓ ржерж╛ржХрж▓рзЗржУ ржбрж╛ржЯрж╛ ржЖрж╕ржмрзЗ ржирж╛ред
- **Inner Level (OR):** ржПржЯрж┐ ржЯрж╛ржЗржЯрзЗрж▓ ржПржмржВ ржХржирзНржЯрзЗржирзНржЯрзЗрж░ ржоржзрзНржпрзЗ ржлрзНрж▓рзЗржХрзНрж╕рж┐ржмрж┐рж▓рж┐ржЯрж┐ ржжрж┐ржЪрзНржЫрзЗред ржжрзБржЯрзЛрж░ ржпрзЗржХрзЛржирзЛ ржПржХ ржЬрж╛рзЯржЧрж╛рзЯ рж╢ржмрзНржжржЯрж╛ ржерж╛ржХрж▓рзЗржЗ рж╣рж▓рзЛред

---

### ЁЯУК ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг (Use Case)

ржзрж░рж╛ ржпрж╛ржХ ржЖржкржирж╛рж░ ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗ ржПржЗ ржбрж╛ржЯрж╛ржЧрзБрж▓рзЛ ржЖржЫрзЗ:

1. **Post A:** Title: "JS Guide", Content: "Learn JS", isPublished: **true**
2. **Post B:** Title: "React Tips", Content: "JS Hooks", isPublished: **true**
3. **Post C:** Title: "JS Secret", Content: "Private", isPublished: **false**

ржпржжрж┐ ржЖржкржирж┐ **searchText = "JS"** ржжрж┐рзЯрзЗ ржЙржкрж░рзЗрж░ рж▓ржЬрж┐ржХрзЗ рж╕рж╛рж░рзНржЪ ржХрж░рзЗржи:

| Post       | isPublished? | Title/Content match?     | рж░рзЗржЬрж╛рж▓рзНржЯ ржХрзА ржЖрж╕ржмрзЗ? | ржХрзЗржи?                                               |
| ---------- | ------------ | ------------------------ | ---------------- | -------------------------------------------------- |
| **Post A** | тЬЕ Yes       | тЬЕ Yes (Title & Content) | **ржкрж╛ржмрзЗ**         | ржжрзБржЯрзЛ рж╢рж░рзНрждржЗ рж╕рждрзНржпред                                   |
| **Post B** | тЬЕ Yes       | тЬЕ Yes (Content)         | **ржкрж╛ржмрзЗ**         | ржкрж╛ржмрж▓рж┐рж╢ржб ржПржмржВ OR ржХржирзНржбрж┐рж╢ржирзЗрж░ ржХржирзНржЯрзЗржирзНржЯрзЗ ржорж┐рж▓ ржЖржЫрзЗред        |
| **Post C** | тЭМ No        | тЬЕ Yes (Title)           | **ржкрж╛ржмрзЗ ржирж╛**      | ржЯрж╛ржЗржЯрзЗрж▓рзЗ ржорж┐рж▓ ржерж╛ржХрж▓рзЗржУ ржПржЯрж┐ ржкрж╛ржмрж▓рж┐рж╢ржб ржирзЯ (AND ржлрзЗрж▓ ржХрж░рзЗржЫрзЗ)ред |

---

### тЬЕ ржХрзЗржи ржПржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗржи?

рзз. **ржХржоржкрзНрж▓рзЗржХрзНрж╕ ржлрж┐рж▓рзНржЯрж╛рж░рж┐ржВ:** ржмрзЬ ржЗ-ржХржорж╛рж░рзНрж╕ ржмрж╛ ржмрзНрж▓ржЧ рж╕рж╛ржЗржЯрзЗ ржпрзЗржЦрж╛ржирзЗ ржХрзНржпрж╛ржЯрж╛ржЧрж░рж┐ ржлрж┐ржХрзНрж╕ржб (AND) ржХрж┐ржирзНрждрзБ рж╕рж╛рж░рзНржЪ ржХрж┐-ржУрзЯрж╛рж░рзНржб ржбрж╛ржЗржирж╛ржорж┐ржХ (OR), рж╕рзЗржЦрж╛ржирзЗ ржПржЯрж┐ ржЕржкрж░рж┐рж╣рж╛рж░рзНржпред
рзи. **ржбрж╛ржЯрж╛ рж╕рж┐ржХрж┐ржЙрж░рж┐ржЯрж┐:** `isPublished` ржмрж╛ `isDeleted` ржПрж░ ржорждрзЛ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ржЧрзБрж▓рзЛ AND-ржП рж░рзЗржЦрзЗ ржЖржкржирж┐ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рждрзЗ ржкрж╛рж░рзЗржи ржпрзЗ ржнрзБрж▓ ржмрж╛ ржбрж┐рж▓рж┐ржЯ рж╣ржУрзЯрж╛ ржбрж╛ржЯрж╛ ржЗржЙржЬрж╛рж░рзЗрж░ рж╕рж╛ржоржирзЗ ржЖрж╕ржмрзЗ ржирж╛ред
рзй. **Clean Query:** ржЖрж▓рж╛ржжрж╛ ржЖрж▓рж╛ржжрж╛ржнрж╛ржмрзЗ ржХрзЛржб ржирж╛ рж▓рж┐ржЦрзЗ ржПржХ ржХрзБрзЯрзЗрж░рж┐рждрзЗржЗ рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА рж╕рж╛рж░рзНржЪ рждрзИрж░рж┐ ржХрж░рж╛ ржпрж╛рзЯред

---

### ЁЯУЭ ржЪрзВрзЬрж╛ржирзНржд рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк:

- **AND:** рж╕ржм рж╢рж░рзНржд ржорж╛ржирждрзЗржЗ рж╣ржмрзЗред
- **OR:** ржпрзЗржХрзЛржирзЛ ржПржХржЯрж┐ рж╢рж░рзНржд ржорж╛ржирж▓рзЗ рж╣ржмрзЗред
- **AND-ржПрж░ ржнрзЗрждрж░ OR:** ржкрзНрж░ржзрж╛ржи рж╢рж░рзНрждржЧрзБрж▓рзЛ ржЕржмрж╢рзНржпржЗ ржорж╛ржирждрзЗ рж╣ржмрзЗ, ржЖрж░ ржнрзЗрждрж░рзЗ ржЫрзЛржЯ рж╢рж░рзНрждржЧрзБрж▓рзЛрж░ ржоржзрзНржпрзЗ ржЕржкрж╢ржи ржерж╛ржХржмрзЗред
